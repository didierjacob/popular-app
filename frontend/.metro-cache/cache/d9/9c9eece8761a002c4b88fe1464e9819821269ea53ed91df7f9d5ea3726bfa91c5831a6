{"dependencies":[{"name":"react-native-web/dist/index","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"55efhPHw3gz2FoQtoN2yI1VuhbM=","exportNames":["*"],"imports":1}},{"name":"../codegenSpec/NativeRNShare","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":51},"end":{"line":2,"column":57,"index":108}}],"key":"6muSvoW0Qd6X/sViaMyLhcAqBiM=","exportNames":["*"],"imports":1}},{"name":"./platform","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":109},"end":{"line":3,"column":47,"index":156}}],"key":"CVB7fKbPsciTJDxaTBMtbH9vStI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.checkAndroidPermissionsForUrls = checkAndroidPermissionsForUrls;\n  var _reactNativeWebDistIndex = require(_dependencyMap[0], \"react-native-web/dist/index\");\n  var _codegenSpecNativeRNShare = require(_dependencyMap[1], \"../codegenSpec/NativeRNShare\");\n  var NativeRNShare = _interopDefault(_codegenSpecNativeRNShare);\n  var _platform = require(_dependencyMap[2], \"./platform\");\n  async function checkAndroidPermissionsForUrls(urls) {\n    // Reference: https://github.com/react-native-share/react-native-share/pull/871\n    if ((await Promise.all(urls.map(url => NativeRNShare.default.isBase64File(url)))).includes(true)) {\n      await checkExternalStoragePermission();\n    }\n  }\n  async function checkExternalStoragePermission() {\n    const {\n      WRITE_EXTERNAL_STORAGE\n    } = _reactNativeWebDistIndex.PermissionsAndroid.PERMISSIONS;\n    const granted = await _reactNativeWebDistIndex.PermissionsAndroid.check(WRITE_EXTERNAL_STORAGE);\n    if (!granted) {\n      if (!isAndroidVersionAtLeastKitKat()) {\n        const result = await _reactNativeWebDistIndex.PermissionsAndroid.request(WRITE_EXTERNAL_STORAGE);\n        if (result !== _reactNativeWebDistIndex.PermissionsAndroid.RESULTS.GRANTED) {\n          throw new Error('Write Permission not available');\n        }\n      }\n    }\n  }\n  function isAndroidVersionAtLeastKitKat() {\n    return (0, _platform.getAndroidVersion)() >= 19;\n  }\n});","lineCount":40,"map":[[12,2,4,0,"exports"],[12,9,4,0],[12,10,4,0,"checkAndroidPermissionsForUrls"],[12,40,4,0],[12,43,4,0,"checkAndroidPermissionsForUrls"],[12,73,4,0],[13,2,9,1],[13,6,9,1,"_reactNativeWebDistIndex"],[13,30,9,1],[13,33,9,1,"require"],[13,40,9,1],[13,41,9,1,"_dependencyMap"],[13,55,9,1],[14,2,2,0],[14,6,2,0,"_codegenSpecNativeRNShare"],[14,31,2,0],[14,34,2,0,"require"],[14,41,2,0],[14,42,2,0,"_dependencyMap"],[14,56,2,0],[15,2,2,0],[15,6,2,0,"NativeRNShare"],[15,19,2,0],[15,22,2,0,"_interopDefault"],[15,37,2,0],[15,38,2,0,"_codegenSpecNativeRNShare"],[15,63,2,0],[16,2,3,0],[16,6,3,0,"_platform"],[16,15,3,0],[16,18,3,0,"require"],[16,25,3,0],[16,26,3,0,"_dependencyMap"],[16,40,3,0],[17,2,4,7],[17,17,4,22,"checkAndroidPermissionsForUrls"],[17,47,4,52,"checkAndroidPermissionsForUrls"],[17,48,4,53,"urls"],[17,52,4,57],[17,54,4,59],[18,4,5,2],[19,4,6,2],[19,8,6,6],[19,9,6,7],[19,15,6,13,"Promise"],[19,22,6,20],[19,23,6,21,"all"],[19,26,6,24],[19,27,6,25,"urls"],[19,31,6,29],[19,32,6,30,"map"],[19,35,6,33],[19,36,6,34,"url"],[19,39,6,37],[19,43,6,41,"NativeRNShare"],[19,56,6,54],[19,57,6,54,"default"],[19,64,6,54],[19,65,6,55,"isBase64File"],[19,77,6,67],[19,78,6,68,"url"],[19,81,6,71],[19,82,6,72],[19,83,6,73],[19,84,6,74],[19,86,6,76,"includes"],[19,94,6,84],[19,95,6,85],[19,99,6,89],[19,100,6,90],[19,102,6,92],[20,6,7,4],[20,12,7,10,"checkExternalStoragePermission"],[20,42,7,40],[20,43,7,41],[20,44,7,42],[21,4,8,2],[22,2,9,0],[23,2,10,0],[23,17,10,15,"checkExternalStoragePermission"],[23,47,10,45,"checkExternalStoragePermission"],[23,48,10,45],[23,50,10,48],[24,4,11,2],[24,10,11,8],[25,6,12,4,"WRITE_EXTERNAL_STORAGE"],[26,4,13,2],[26,5,13,3],[26,8,13,6,"PermissionsAndroid"],[26,32,13,24],[26,33,13,24,"PermissionsAndroid"],[26,51,13,24],[26,52,13,25,"PERMISSIONS"],[26,63,13,36],[27,4,14,2],[27,10,14,8,"granted"],[27,17,14,15],[27,20,14,18],[27,26,14,24,"PermissionsAndroid"],[27,50,14,42],[27,51,14,42,"PermissionsAndroid"],[27,69,14,42],[27,70,14,43,"check"],[27,75,14,48],[27,76,14,49,"WRITE_EXTERNAL_STORAGE"],[27,98,14,71],[27,99,14,72],[28,4,15,2],[28,8,15,6],[28,9,15,7,"granted"],[28,16,15,14],[28,18,15,16],[29,6,16,4],[29,10,16,8],[29,11,16,9,"isAndroidVersionAtLeastKitKat"],[29,40,16,38],[29,41,16,39],[29,42,16,40],[29,44,16,42],[30,8,17,6],[30,14,17,12,"result"],[30,20,17,18],[30,23,17,21],[30,29,17,27,"PermissionsAndroid"],[30,53,17,45],[30,54,17,45,"PermissionsAndroid"],[30,72,17,45],[30,73,17,46,"request"],[30,80,17,53],[30,81,17,54,"WRITE_EXTERNAL_STORAGE"],[30,103,17,76],[30,104,17,77],[31,8,18,6],[31,12,18,10,"result"],[31,18,18,16],[31,23,18,21,"PermissionsAndroid"],[31,47,18,39],[31,48,18,39,"PermissionsAndroid"],[31,66,18,39],[31,67,18,40,"RESULTS"],[31,74,18,47],[31,75,18,48,"GRANTED"],[31,82,18,55],[31,84,18,57],[32,10,19,8],[32,16,19,14],[32,20,19,18,"Error"],[32,25,19,23],[32,26,19,24],[32,58,19,56],[32,59,19,57],[33,8,20,6],[34,6,21,4],[35,4,22,2],[36,2,23,0],[37,2,24,0],[37,11,24,9,"isAndroidVersionAtLeastKitKat"],[37,40,24,38,"isAndroidVersionAtLeastKitKat"],[37,41,24,38],[37,43,24,41],[38,4,25,2],[38,11,25,9],[38,15,25,9,"getAndroidVersion"],[38,24,25,26],[38,25,25,26,"getAndroidVersion"],[38,42,25,26],[38,44,25,27],[38,45,25,28],[38,49,25,32],[38,51,25,34],[39,2,26,0],[40,0,26,1],[40,3]],"functionMap":{"names":["<global>","checkAndroidPermissionsForUrls","urls.map$argument_0","checkExternalStoragePermission","isAndroidVersionAtLeastKitKat"],"mappings":"AAA;OCG;kCCE,sCD;CDG;AGC;CHa;AIC;CJE"},"hasCjsExports":false},"type":"js/module"}]}