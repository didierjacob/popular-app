{"dependencies":[{"name":"react-native-web/dist/index","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"55efhPHw3gz2FoQtoN2yI1VuhbM=","exportNames":["*"],"imports":1}},{"name":"../codegenSpec/NativeRNShare","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":44,"index":241},"end":{"line":8,"column":83,"index":280}}],"key":"hTmKjmmFyL4P912qrsGxxZFpZ6c=","exportNames":["*"],"imports":1}},{"name":"./platform","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":16,"index":299},"end":{"line":9,"column":37,"index":320}}],"key":"5d+mydt6uZvYV4jul+vjS1FZAE8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.checkAndroidPermissionsForUrls = checkAndroidPermissionsForUrls;\n  var _reactNative = require(_dependencyMap[0], \"react-native-web/dist/index\");\n  var _NativeRNShare = _interopRequireDefault(require(_dependencyMap[1], \"../codegenSpec/NativeRNShare\"));\n  var _platform = require(_dependencyMap[2], \"./platform\");\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n  async function checkAndroidPermissionsForUrls(urls) {\n    // Reference: https://github.com/react-native-share/react-native-share/pull/871\n    if ((await Promise.all(urls.map(url => _NativeRNShare.default.isBase64File(url)))).includes(true)) {\n      await checkExternalStoragePermission();\n    }\n  }\n  async function checkExternalStoragePermission() {\n    const {\n      WRITE_EXTERNAL_STORAGE\n    } = _reactNative.PermissionsAndroid.PERMISSIONS;\n    const granted = await _reactNative.PermissionsAndroid.check(WRITE_EXTERNAL_STORAGE);\n    if (!granted) {\n      if (!isAndroidVersionAtLeastKitKat()) {\n        const result = await _reactNative.PermissionsAndroid.request(WRITE_EXTERNAL_STORAGE);\n        if (result !== _reactNative.PermissionsAndroid.RESULTS.GRANTED) {\n          throw new Error('Write Permission not available');\n        }\n      }\n    }\n  }\n  function isAndroidVersionAtLeastKitKat() {\n    return (0, _platform.getAndroidVersion)() >= 19;\n  }\n});","lineCount":39,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"checkAndroidPermissionsForUrls"],[7,40,6,38],[7,43,6,41,"checkAndroidPermissionsForUrls"],[7,73,6,71],[8,2,6,72],[8,6,6,72,"_reactNative"],[8,18,6,72],[8,21,6,72,"require"],[8,28,6,72],[8,29,6,72,"_dependencyMap"],[8,43,6,72],[9,2,8,0],[9,6,8,4,"_NativeRNShare"],[9,20,8,18],[9,23,8,21,"_interopRequireDefault"],[9,45,8,43],[9,46,8,44,"require"],[9,53,8,51],[9,54,8,51,"_dependencyMap"],[9,68,8,51],[9,103,8,82],[9,104,8,83],[9,105,8,84],[10,2,9,0],[10,6,9,4,"_platform"],[10,15,9,13],[10,18,9,16,"require"],[10,25,9,23],[10,26,9,23,"_dependencyMap"],[10,40,9,23],[10,57,9,36],[10,58,9,37],[11,2,10,0],[11,11,10,9,"_interopRequireDefault"],[11,33,10,31,"_interopRequireDefault"],[11,34,10,32,"obj"],[11,37,10,35],[11,39,10,37],[12,4,10,39],[12,11,10,46,"obj"],[12,14,10,49],[12,18,10,53,"obj"],[12,21,10,56],[12,22,10,57,"__esModule"],[12,32,10,67],[12,35,10,70,"obj"],[12,38,10,73],[12,41,10,76],[13,6,10,78,"default"],[13,13,10,85],[13,15,10,87,"obj"],[14,4,10,91],[14,5,10,92],[15,2,10,94],[16,2,11,0],[16,17,11,15,"checkAndroidPermissionsForUrls"],[16,47,11,45,"checkAndroidPermissionsForUrls"],[16,48,11,46,"urls"],[16,52,11,50],[16,54,11,52],[17,4,12,2],[18,4,13,2],[18,8,13,6],[18,9,13,7],[18,15,13,13,"Promise"],[18,22,13,20],[18,23,13,21,"all"],[18,26,13,24],[18,27,13,25,"urls"],[18,31,13,29],[18,32,13,30,"map"],[18,35,13,33],[18,36,13,34,"url"],[18,39,13,37],[18,43,13,41,"_NativeRNShare"],[18,57,13,55],[18,58,13,56,"default"],[18,65,13,63],[18,66,13,64,"isBase64File"],[18,78,13,76],[18,79,13,77,"url"],[18,82,13,80],[18,83,13,81],[18,84,13,82],[18,85,13,83],[18,87,13,85,"includes"],[18,95,13,93],[18,96,13,94],[18,100,13,98],[18,101,13,99],[18,103,13,101],[19,6,14,4],[19,12,14,10,"checkExternalStoragePermission"],[19,42,14,40],[19,43,14,41],[19,44,14,42],[20,4,15,2],[21,2,16,0],[22,2,17,0],[22,17,17,15,"checkExternalStoragePermission"],[22,47,17,45,"checkExternalStoragePermission"],[22,48,17,45],[22,50,17,48],[23,4,18,2],[23,10,18,8],[24,6,19,4,"WRITE_EXTERNAL_STORAGE"],[25,4,20,2],[25,5,20,3],[25,8,20,6,"_reactNative"],[25,20,20,18],[25,21,20,19,"PermissionsAndroid"],[25,39,20,37],[25,40,20,38,"PERMISSIONS"],[25,51,20,49],[26,4,21,2],[26,10,21,8,"granted"],[26,17,21,15],[26,20,21,18],[26,26,21,24,"_reactNative"],[26,38,21,36],[26,39,21,37,"PermissionsAndroid"],[26,57,21,55],[26,58,21,56,"check"],[26,63,21,61],[26,64,21,62,"WRITE_EXTERNAL_STORAGE"],[26,86,21,84],[26,87,21,85],[27,4,22,2],[27,8,22,6],[27,9,22,7,"granted"],[27,16,22,14],[27,18,22,16],[28,6,23,4],[28,10,23,8],[28,11,23,9,"isAndroidVersionAtLeastKitKat"],[28,40,23,38],[28,41,23,39],[28,42,23,40],[28,44,23,42],[29,8,24,6],[29,14,24,12,"result"],[29,20,24,18],[29,23,24,21],[29,29,24,27,"_reactNative"],[29,41,24,39],[29,42,24,40,"PermissionsAndroid"],[29,60,24,58],[29,61,24,59,"request"],[29,68,24,66],[29,69,24,67,"WRITE_EXTERNAL_STORAGE"],[29,91,24,89],[29,92,24,90],[30,8,25,6],[30,12,25,10,"result"],[30,18,25,16],[30,23,25,21,"_reactNative"],[30,35,25,33],[30,36,25,34,"PermissionsAndroid"],[30,54,25,52],[30,55,25,53,"RESULTS"],[30,62,25,60],[30,63,25,61,"GRANTED"],[30,70,25,68],[30,72,25,70],[31,10,26,8],[31,16,26,14],[31,20,26,18,"Error"],[31,25,26,23],[31,26,26,24],[31,58,26,56],[31,59,26,57],[32,8,27,6],[33,6,28,4],[34,4,29,2],[35,2,30,0],[36,2,31,0],[36,11,31,9,"isAndroidVersionAtLeastKitKat"],[36,40,31,38,"isAndroidVersionAtLeastKitKat"],[36,41,31,38],[36,43,31,41],[37,4,32,2],[37,11,32,9],[37,12,32,10],[37,13,32,11],[37,15,32,13,"_platform"],[37,24,32,22],[37,25,32,23,"getAndroidVersion"],[37,42,32,40],[37,44,32,42],[37,45,32,43],[37,49,32,47],[37,51,32,49],[38,2,33,0],[39,0,33,1],[39,3]],"functionMap":{"names":["<global>","_interopRequireDefault","checkAndroidPermissionsForUrls","urls.map$argument_0","checkExternalStoragePermission","isAndroidVersionAtLeastKitKat"],"mappings":"AAA;ACS,+FD;AEC;kCCE,+CD;CFG;AIC;CJa;AKC;CLE"},"hasCjsExports":true},"type":"js/module"}]}